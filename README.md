ğŸ± CatSeedLogin-Rust - çŒ«ç§å­ç™»å½•ç³»ç»Ÿ(Rustç‰ˆ)
<div align="center">
https://www.rust-lang.org
https://github.com/PumpkinMC/PumpkinMC
LICENSE
https://crates.io/crates/catseedlogin-rust
ğŸš€ é«˜æ€§èƒ½Rustç‰ˆMinecraftç™»å½•æ’ä»¶ | æ”¯æŒPumpkinMCæœåŠ¡ç«¯ | æè‡´æ€§èƒ½ä¼˜åŒ–
åŸºäºRustè¯­è¨€å¼€å‘ï¼Œä¸“ä¸ºPumpkinMCæœåŠ¡ç«¯è®¾è®¡ï¼Œæä¾›åŸç”Ÿçº§æ€§èƒ½è¡¨ç°
</div>
ğŸ“‹ ç›®å½•
âœ¨ æ ¸å¿ƒåŠŸèƒ½
ğŸ“¥ ä¸‹è½½å®‰è£…
ğŸ¯ å¿«é€Ÿå¼€å§‹
ğŸ“– æŒ‡ä»¤å¤§å…¨
ğŸ” æƒé™èŠ‚ç‚¹
âš™ï¸ é…ç½®æ–‡ä»¶
ğŸ”— å¤šæœåŠ¡å™¨é…ç½®
ğŸ‘¨â€ğŸ’» å¼€å‘è€…API
ğŸ’¬ ç¤¾åŒºæ”¯æŒ
âœ¨ æ ¸å¿ƒåŠŸèƒ½
ğŸ” å®‰å…¨è®¤è¯
âœ… å¼‚æ­¥æ³¨å†Œ/ç™»å½•ç³»ç»Ÿâ€‹ - åŸºäºRust async/awaitçš„é«˜æ€§èƒ½è®¤è¯
âœ… Argon2å¯†ç åŠ å¯†â€‹ - é‡‡ç”¨ç°ä»£åŠ å¯†ç®—æ³•ï¼Œå®‰å…¨æ€§æ›´é«˜
âœ… Sessionç®¡ç†â€‹ - æ™ºèƒ½ä¼šè¯ç®¡ç†ï¼Œæ”¯æŒè·¨æœçŠ¶æ€ä¿æŒ
âœ… é˜²æš´åŠ›ç ´è§£â€‹ - å†…ç½®é€Ÿç‡é™åˆ¶å’Œå°è¯•æ¬¡æ•°é™åˆ¶
ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤
ğŸ”’ ç™»å½•å‰è¡Œä¸ºé™åˆ¶â€‹ - ä½¿ç”¨PumpkinMCäº‹ä»¶ç³»ç»Ÿç²¾ç¡®æ§åˆ¶
ğŸ’ ç‰©å“æ ä¿æŠ¤â€‹ - å®‰å…¨çš„ç‰©å“æ éš”ç¦»æœºåˆ¶
ğŸ“ ä½ç½®åŒæ­¥â€‹ - åŸºäºPumpkinMCçš„å®ä½“ä½ç½®ç®¡ç†
ğŸ• æ™ºèƒ½é‡å…¥æ£€æµ‹â€‹ - åŸºäºå†…å­˜çš„é«˜æ•ˆç©å®¶çŠ¶æ€è·Ÿè¸ª
ğŸ“§ é‚®ç®±ç³»ç»Ÿ
ğŸ“¨ å¼‚æ­¥é‚®ä»¶å‘é€â€‹ - åŸºäºTokioçš„å¼‚æ­¥é‚®ä»¶æœåŠ¡
ğŸ”‘ éªŒè¯ç ç®¡ç†â€‹ - å†…å­˜å®‰å…¨çš„éªŒè¯ç å­˜å‚¨å’ŒéªŒè¯
ğŸ“¤ æ¨¡æ¿åŒ–é‚®ä»¶â€‹ - æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿å’Œå†…å®¹
ğŸŒ å¤šæœåŠ¡å™¨æ”¯æŒ
ğŸ”„ RedisåŒæ­¥â€‹ - åŸºäºRedis Pub/Subçš„è·¨æœç™»å½•çŠ¶æ€åŒæ­¥
ğŸšª ç½‘å…³æ§åˆ¶â€‹ - æ™ºèƒ½çš„æœåŠ¡å™¨é—´ç©å®¶æµåŠ¨æ§åˆ¶
ğŸ”„ æ•°æ®ä¸€è‡´æ€§â€‹ - å¼ºä¸€è‡´æ€§çš„åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†
ğŸ’¾ æ•°æ®å­˜å‚¨
ğŸ—„ï¸ å¤šæ•°æ®åº“é©±åŠ¨â€‹ - æ”¯æŒSQLxï¼ˆPostgreSQL/MySQL/SQLiteï¼‰
ğŸ”„ è¿æ¥æ± â€‹ - åŸºäºBB8çš„é«˜æ€§èƒ½æ•°æ®åº“è¿æ¥æ± 
ğŸ“Š æ€§èƒ½ç›‘æ§â€‹ - å†…ç½®æŸ¥è¯¢æ€§èƒ½æŒ‡æ ‡æ”¶é›†
ğŸ“¥ ä¸‹è½½å®‰è£…
ç³»ç»Ÿè¦æ±‚
Rust 1.70+
PumpkinMC 0.5+
PostgreSQL 13+ / MySQL 8.0+ / SQLite 3.35+
å®‰è£…æ–¹å¼
Cargoå®‰è£…
cargo install catseedlogin-rust
æ‰‹åŠ¨æ„å»º
git clone https://github.com/your-org/catseedlogin-rust.git
cd catseedlogin-rust
cargo build --release
PumpkinMCæ’ä»¶å®‰è£…
å°†ç¼–è¯‘åçš„libcatseedlogin.soï¼ˆLinuxï¼‰æˆ–catseedlogin.dllï¼ˆWindowsï¼‰æ”¾å…¥PumpkinMCçš„pluginsç›®å½•
é…ç½®æ•°æ®åº“è¿æ¥å’Œæ’ä»¶è®¾ç½®
é‡å¯PumpkinMCæœåŠ¡å™¨
ğŸ¯ å¿«é€Ÿå¼€å§‹
åŸºæœ¬é…ç½®
åˆ›å»º config/catseedlogin.tomlï¼š
[server]
name = "my_server"
motd = "æ¬¢è¿æ¥åˆ°æˆ‘çš„æœåŠ¡å™¨"

[database]
url = "postgresql://user:pass@localhost/catseedlogin"
max_connections = 20

[security]
max_login_attempts = 5
login_timeout = 120
password_min_length = 6

[redis]
enabled = true
url = "redis://localhost:6379"
ç©å®¶æŒ‡ä»¤
æ³¨å†Œè´¦å·
/register <å¯†ç > <ç¡®è®¤å¯†ç >
/reg <å¯†ç > <ç¡®è®¤å¯†ç >
ç™»å½•è´¦å·
/login <å¯†ç >
/l <å¯†ç >
å¯†ç ç®¡ç†
/changepassword <æ—§å¯†ç > <æ–°å¯†ç >
/changepw <æ—§å¯†ç > <æ–°å¯†ç >

/resetpassword
/repw
ğŸ“– æŒ‡ä»¤å¤§å…¨
ç®¡ç†å‘˜æŒ‡ä»¤
æŒ‡ä»¤
æƒé™èŠ‚ç‚¹
æè¿°
/catseedlogin reload
catseedlogin.admin.reload
é‡è½½æ’ä»¶é…ç½®
/catseedlogin stats
catseedlogin.admin.stats
æŸ¥çœ‹æ’ä»¶ç»Ÿè®¡ä¿¡æ¯
/catseedlogin user <ç©å®¶> info
catseedlogin.admin.user.info
æŸ¥çœ‹ç©å®¶ä¿¡æ¯
/catseedlogin user <ç©å®¶> resetpassword
catseedlogin.admin.user.reset
é‡ç½®ç©å®¶å¯†ç 
é…ç½®æŒ‡ä»¤
æŒ‡ä»¤
æè¿°
é»˜è®¤å€¼
/catseedlogin config set <é…ç½®é¡¹> <å€¼>
ä¿®æ”¹è¿è¡Œæ—¶é…ç½®
-
/catseedlogin config get <é…ç½®é¡¹>
æŸ¥çœ‹é…ç½®å€¼
-
/catseedlogin whitelist add <æŒ‡ä»¤>
æ·»åŠ æŒ‡ä»¤ç™½åå•
-
/catseedlogin whitelist remove <æŒ‡ä»¤>
ç§»é™¤æŒ‡ä»¤ç™½åå•
-
ğŸ” æƒé™èŠ‚ç‚¹
æƒé™èŠ‚ç‚¹
æè¿°
catseedlogin.use
ä½¿ç”¨åŸºç¡€ç™»å½•æŒ‡ä»¤
catseedlogin.email
ä½¿ç”¨é‚®ç®±åŠŸèƒ½
catseedlogin.admin.*
æ‰€æœ‰ç®¡ç†å‘˜æƒé™
catseedlogin.bypass.ip_limit
ç»•è¿‡IPé™åˆ¶
catseedlogin.bypass.login
ç»•è¿‡ç™»å½•è¦æ±‚
âš™ï¸ é…ç½®æ–‡ä»¶
ä¸»é…ç½®æ–‡ä»¶ (config/catseedlogin.toml)
[general]
# æ’ä»¶åŸºç¡€è®¾ç½®
plugin_enabled = true
debug_mode = false
language = "zh_CN"

[database]
# æ•°æ®åº“é…ç½®
driver = "postgresql"  # postgresql, mysql, sqlite
url = "postgresql://user:pass@localhost/catseedlogin"
pool_size = 10
connect_timeout = 30

[security]
# å®‰å…¨é…ç½®
password_min_length = 6
password_max_length = 32
max_login_attempts = 5
login_timeout_seconds = 120
ip_limit_count = 3
session_timeout = 3600

[email]
# é‚®ç®±é…ç½®ï¼ˆå¯é€‰ï¼‰
enabled = false
smtp_host = "smtp.qq.com"
smtp_port = 465
username = "your-email@qq.com"
password = "your-auth-code"
from_name = "æœåŠ¡å™¨åç§°"

[redis]
# Redisé…ç½®ï¼ˆå¤šæœåŠ¡å™¨æ¨¡å¼éœ€è¦ï¼‰
enabled = false
url = "redis://localhost:6379"
channel_prefix = "catseedlogin"

[compatibility]
# å…¼å®¹æ€§é…ç½®
pumpkinmc_version = "0.5"
legacy_support = false
è¯­è¨€æ–‡ä»¶ (lang/zh_CN.ron)
Config(
    messages: {
        "login_success": "âœ… ç™»å½•æˆåŠŸï¼",
        "login_failed": "âŒ å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•",
        "register_success": "âœ… æ³¨å†ŒæˆåŠŸï¼",
        "password_too_short": "âŒ å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",
        "ip_limit_exceeded": "âŒ åŒä¸€IPä¸‹æ³¨å†Œè´¦å·æ•°é‡å·²è¾¾ä¸Šé™",
    },
    commands: {
        "reload_success": "âœ… é…ç½®é‡è½½æˆåŠŸ",
        "reload_failed": "âŒ é…ç½®é‡è½½å¤±è´¥",
    },
)
ğŸ”— å¤šæœåŠ¡å™¨é…ç½®
é›†ç¾¤æ¶æ„
# ç½‘å…³æœåŠ¡å™¨é…ç½®
[cluster]
mode = "gateway"
servers = [
    { name = "lobby", address = "127.0.0.1:25566" },
    { name = "survival", address = "127.0.0.1:25567" }
]

[redis]
enabled = true
url = "redis://cluster-redis:6379"
å­æœé…ç½®
[cluster]
mode = "child"
gateway_url = "redis://cluster-redis:6379"

[security]
verify_tokens = true
shared_secret = "your-secret-key"
ğŸ‘¨â€ğŸ’» å¼€å‘è€…API
äº‹ä»¶ç³»ç»Ÿ
use catseedlogin::events::{LoginEvent, RegisterEvent};
use pumpkinmc::events::EventListener;

struct MyPlugin;

impl EventListener for MyPlugin {
    async fn on_player_login(&self, event: LoginEvent) {
        println!("ç©å®¶ {} ç™»å½•æˆåŠŸ", event.player.name);
    }
    
    async fn on_player_register(&self, event: RegisterEvent) {
        println!("æ–°ç©å®¶æ³¨å†Œ: {}", event.player.name);
    }
}
APIæ¥å£
use catseedlogin::api::{CatSeedLoginAPI, PlayerAuth};

#[tokio::main]
async fn main() {
    let api = CatSeedLoginAPI::new().await.unwrap();
    
    // æ£€æŸ¥ç©å®¶è®¤è¯çŠ¶æ€
    if let Some(auth) = api.get_player_auth("player_name").await {
        println!("ç©å®¶è®¤è¯çŠ¶æ€: {:?}", auth.is_authenticated());
    }
    
    // å¼ºåˆ¶è®¾ç½®å¯†ç 
    api.force_set_password("player_name", "new_password").await.unwrap();
}
è‡ªå®šä¹‰å­˜å‚¨åç«¯
use catseedlogin::storage::{AuthStorage, PlayerData};
use async_trait::async_trait;

struct CustomStorage;

#[async_trait]
impl AuthStorage for CustomStorage {
    async fn get_player_data(&self, username: &str) -> Result<Option<PlayerData>> {
        // è‡ªå®šä¹‰å®ç°
        Ok(None)
    }
    
    async fn save_player_data(&self, data: &PlayerData) -> Result<()> {
        // è‡ªå®šä¹‰å®ç°
        Ok(())
    }
}
æ ¸å¿ƒä»£ç ç»“æ„
ä¸»è¦æ¨¡å—
// ä¸»å…¥å£ç‚¹
pub mod catseedlogin {
    pub mod api;           // APIæ¥å£
    pub mod commands;      // æŒ‡ä»¤å¤„ç†
    pub mod config;        // é…ç½®ç®¡ç†
    pub mod events;        // äº‹ä»¶ç³»ç»Ÿ
    pub mod storage;       // æ•°æ®å­˜å‚¨
    pub mod security;      // å®‰å…¨æ¨¡å—
    pub mod session;       // ä¼šè¯ç®¡ç†
    pub mod email;         // é‚®ä»¶æœåŠ¡
    pub mod cluster;       // é›†ç¾¤æ”¯æŒ
}
æ ¸å¿ƒç‰¹æ€§å®ç°
// å¼‚æ­¥è®¤è¯å¤„ç†å™¨
pub struct AuthHandler {
    storage: Arc<dyn AuthStorage>,
    session_manager: SessionManager,
    security: SecurityManager,
}

impl AuthHandler {
    pub async fn login(&self, username: &str, password: &str) -> Result<LoginResult> {
        // å¼‚æ­¥ç™»å½•é€»è¾‘
        self.rate_limit_check(username).await?;
        self.validate_credentials(username, password).await
    }
    
    pub async fn register(&self, username: &str, password: &str) -> Result<RegistrationResult> {
        // å¼‚æ­¥æ³¨å†Œé€»è¾‘
        self.validate_username(username).await?;
        self.validate_password_strength(password).await?;
        self.create_account(username, password).await
    }
}
ğŸ’¬ ç¤¾åŒºæ”¯æŒ
äº¤æµæ¸ é“
GitHub Issues: é—®é¢˜åé¦ˆ
Discord: å¼€å‘äº¤æµç¾¤
QQç¾¤: 123456789 (RustMCå¼€å‘è€…äº¤æµ)
è´¡çŒ®æŒ‡å—
æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·é˜…è¯»ï¼š
è´¡çŒ®æŒ‡å—
ä»£ç è§„èŒƒ
æµ‹è¯•æŒ‡å—
æ€§èƒ½åŸºå‡†æµ‹è¯•
# è¿è¡Œæ€§èƒ½æµ‹è¯•
cargo bench --features=benchmarks

# ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
cargo bench --features=benchmarks -- --verbose
<div align="center">
Made with â¤ï¸ by CatSeed-Rust Team
åŸºäºRustè¯­è¨€æ„å»ºçš„é«˜æ€§èƒ½Minecraftç™»å½•è§£å†³æ–¹æ¡ˆ
https://github.com/your-org/catseedlogin-rust
</div>